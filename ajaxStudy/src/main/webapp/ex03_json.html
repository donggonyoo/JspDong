<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<input type="button"  value="JSON읽기" onclick="load('ex03_json.json')">
<div id="area" style="color:red"></div>
<script type="text/javascript">
function load(url){
	const xhttp = new XMLHttpRequest();
	xhttp.open("GET",url);
	xhttp.send();
	xhttp.onreadystatechange = callBack
}

function callBack(){
	if(this.readyState==4 && this.status ==200){
		let area = document.querySelector("#area"); //div
		let data  = JSON.parse(this.responseText) 
		/*
		this.responseText : JSON.parse
		[] : 배열 , {} : 객체
			[{"author" :{"book":"ajax","pubDate":"2025-04-21"}},
			{"author" :{"book":"자바","pubDate":"2025-02-01"}},
			{"author" :{"book":"WEB","pubDate":"2025-03-20"}}]
		*/
		//data : 배열 (json객체를 요소로 가지는 배열)
		
		for(s of data){ // s : json객체 요소 한개
						// {"author" :{"book":"ajax","pubDate":"2025-04-21"}} 
						// s.author.book : ajax
						//s.author.pubDate : 2025-04-21 
			area.innerHTML += '<p>'+s.author.book+" : "+s.author.pubDate+'</p>'
			//총 루프를 3번돌거임( 객체가3개임)
		}
	}
}
</script>
</body>
</html>